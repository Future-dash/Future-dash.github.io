<!DOCTYPE html>
<html>
<head>
    <title>Global Leaderboards</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://download.playfab.com/sdk/PlayFabClientApi.js"></script>
</head>
<body style="background: #111; color: white; text-align: center;">
    <h1>GLOBAL TOP 10</h1>
    <div id="lbList" style="max-width: 400px; margin: auto;">Loading Azure Scores...</div>
    <button onclick="window.location.href='index.html'">Menu</button>

    <script>
        PlayFab.settings.titleId = "114A51";
        function loadScores() {
            const level = localStorage.getItem("currentLevelName") || "General";
            const request = { StatisticName: level, StartPosition: 0, MaxResultsCount: 10 };

            PlayFabClientSDK.GetLeaderboard(request, (result, error) => {
                const list = document.getElementById("lbList");
                if (result) {
                    list.innerHTML = result.data.Leaderboard.map(entry => `
                        <div style="display:flex; justify-content:space-between; border-bottom:1px solid #333; padding:10px;">
                            <span>${entry.Position + 1}. ${entry.DisplayName || "Player"}</span>
                            <span style="color:gold;">${(entry.StatValue / 100).toFixed(2)}s</span>
                        </div>
                    `).join("");
                } else {
                    list.innerHTML = "No scores found for this level.";
                }
            });
        }
        loadScores();
    </script>
</body>
</html>

